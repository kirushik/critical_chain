<tr id="<%= dom_id estimation_item %>"
    data-order="<%= estimation_item.order %>"
    data-sortable-target="item"
    draggable="true"
    data-action="dragstart->sortable#dragStart dragend->sortable#dragEnd dragover->sortable#dragOver">
  <td class="drag-handle" style="cursor: move; width: 30px;">
    <span class="fa-solid fa-grip-vertical has-text-grey-light" style="opacity: 0.5;"></span>
  </td>
  <td class="has-text-right copies">
    <i class="fa-solid fa-copy has-text-grey-light"></i>
    <%= estimation_item.decorate.editable :quantity, type: :number %>
    <span class="multiplier">Ã—</span>
  </td>
  <td>
    <%= estimation_item.decorate.editable :value, type: :number %>
    <span class="multiplier-total has-text-grey-light">
      =
    </span>
    <span class="total_value has-text-weight-medium">
      <%= estimation_item.total %>
    </span>
  </td>
  <td class="has-text-centered" style="width: 80px;">
    <%= form_with model: [estimation_item.estimation, estimation_item],
                  method: :patch do |f| %>
      <%= f.hidden_field :fixed, value: !estimation_item.fixed? %>
      <span class="fa fa-dot-circle-o has-text-grey-light"></span>
      <%= f.button type: :submit, class: 'button is-text is-small toggle-fixed' do %>
        <span class="icon is-small">
          <span class="fa <%= estimation_item.fixed? ? 'fa-toggle-on' : 'fa-toggle-off' %>"></span>
        </span>
      <% end %>
    <% end %>
  </td>
  <td><%= estimation_item.decorate.editable :title %></td>
  <td class="has-text-centered" style="width: 60px;">
    <%= button_to [estimation_item.estimation, estimation_item],
                  method: :delete,
                  data: { turbo_confirm: 'Are you sure?' },
                  class: 'button is-small is-danger is-light is-outlined' do %>
      <span class="icon is-small">
        <i class="fa-solid fa-trash-can"></i>
      </span>
    <% end %>
  </td>
</tr>
